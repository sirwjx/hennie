System.register("chunks:///_virtual/BasePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PanelTools.ts"],(function(t){"use strict";var n,e,o,i,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.Component},function(t){s=t.PanelTools}],execute:function(){var a;e._RF.push({},"2832bRbimRLXrbu5FtPePnk","BasePanel",void 0);var l=o.ccclass;o.property,t("BasePanel",l("BasePanel")(a=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).adaptImgObj=void 0,n.view={},n.myData=void 0,n.tools=void 0,n}n(e,t);var o=e.prototype;return o.loadAllObject=function(t){for(var n=t.children.length,e=0;e<n;e++)this.view[t.children[e].name]=t.children[e],this.loadAllObject(t.children[e])},o.onLoad=function(){this.adaptImgObj={},this.loadAllObject(this.node),this.tools=new s(this.view,this.adaptImgObj),this.onMessageEvent()},o.init=function(t){this.myData=t},o.onEnable=function(){},o.onDisable=function(){},o.onDestroy=function(){this.tools.destroy(),this.tools=null,this.offMessageEvent(),this.view=null,this.adaptImgObj=null},o.onMessageEvent=function(){},o.offMessageEvent=function(){},e}(i))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/BtnAreaLayout.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./Global.ts"],(function(e){"use strict";var t,o,s,i,n,c;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,s=e._decorator,i=e.Toggle},function(e){n=e.BasePanel},function(e){c=e.Global}],execute:function(){var l;o._RF.push({},"f57880BSk1J4Z6ENk+OIYWy","BtnAreaLayout",void 0);var a=s.ccclass;s.property,e("BtnAreaLayout",a("BtnAreaLayout")(l=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var s=o.prototype;return s.onMessageEvent=function(){e.prototype.onMessageEvent.call(this),this.view.mouse.on("click",this.onClickMouseIcon,this),this.view.del.on("click",this.onClickDelBtn,this),this.view.obs.on("click",this.onClickObsIcon,this)},s.offMessageEvent=function(){e.prototype.offMessageEvent.call(this)},s.onClickMouseIcon=function(){c.SelectMouseState=!c.SelectMouseState,this.tools.visible("mouse1",c.SelectMouseState),this.checkDelState()},s.onClickDelBtn=function(){c.DelState=!c.DelState,this.tools.visible("delSelect",c.DelState),this.checkMouseState()},s.onClickObsIcon=function(){c.ObsState=!c.ObsState,this.tools.visible("obsSelect",c.ObsState)},s.checkDelState=function(){c.SelectMouseState&&(c.DelState=!1,this.tools.visible("delSelect",c.DelState))},s.checkMouseState=function(){c.DelState&&(c.SelectMouseState=!1,this.tools.visible("mouse1",c.SelectMouseState))},s.onClickObsSelectToggle=function(e){if(!c.ObsState)return this.view.obsToggle.getComponent(i).isChecked=!0,void(c.AddObs=!1);var t=this.view.obsToggle.getComponent(i).isChecked;c.AddObs=!t},o}(n))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/CreateFactory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadMgr.ts","./Enum.ts","./ObsEnum.ts"],(function(e){"use strict";var t,r,n,a,o,c,i,s;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){n=e.cclegacy},function(e){a=e.LoadMgr},function(e){o=e.LatticeType},function(e){c=e.ObsTypeArr,i=e.OrnamentTypeArr,s=e.FloorTypeArr}],execute:function(){n._RF.push({},"32119tymV1Lk5dQlVR4faKK","CreateFactory",void 0);e("CreateFactory",function(){function e(e){this.addParentNode=e}var n=e.prototype;return n.createByType=function(e){switch(this.clearBeginNode(),console.log("create build",e),e){case o.floor:this.create(s,o.floor);break;case o.ornament:this.create(i,o.ornament);break;case o.build:break;case o.obs:this.create(c,o.obs)}},n.clearBeginNode=function(){this.addParentNode.removeAllChildren()},n.create=function(){var e=t(r().mark((function e(t,n){var o,c,i,s,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<t.length)){e.next=9;break}return e.next=4,a.instance.create(null==(c=t[o])?void 0:c.url,this.addParentNode);case 4:u=e.sent,null==(i=u.getComponent(null==(s=t[o])?void 0:s.script))||i.init({info:t[o]});case 6:o++,e.next=1;break;case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/CreateJson.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./Lab.ts","./Download.ts"],(function(n){"use strict";var t,e,o,s,i;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy},function(n){o=n.Global},function(n){s=n.Lab},function(n){i=n.downloadFile}],execute:function(){e._RF.push({},"660b3tyW2lHN6cJs/Y/mGlQ","CreateJson",void 0);var l=n("CreateJson",function(){function n(){}var e=n.prototype;return e.download=function(n){var t=JSON.stringify(n);this.savaJson(t)},e.savaJson=function(n){var t=new Blob([n],{type:"application/json"}),e=URL.createObjectURL(t),l=s.levelName+s.line+o.GameEditorLevel;i(e,l),o.GameEditorLevel++},t(n,null,[{key:"instance",get:function(){return null==this._ins&&(this._ins=new n),this._ins}}]),n}());l._ins=null,window.globalThis.test=l,e._RF.pop()}}}));

System.register("chunks:///_virtual/Data.ts",["cc","./EventMgr.ts","./EventName.ts","./Enum.ts","./LevelDefualt.ts","./Local.ts"],(function(t){"use strict";var e,i,r,n,s,c;return{setters:[function(t){e=t.cclegacy},function(t){i=t.EventMgr},function(t){r=t.EventName},function(t){n=t.LevelKey},function(t){s=t.LevelDefualt},function(t){c=t.Local}],execute:function(){e._RF.push({},"c409bbkTH9AlYU3pZKset3D","Data",void 0);var o=t("Data",function(){function t(){}return t.getCurLevelInfo=function(){if(null==this.curLevelInfo){var t=c.instance.getItem();this.curLevelInfo=t||JSON.parse(JSON.stringify(s))}},t.setCurLevelInfo=function(t,e){this.curLevelInfo[t]=e,c.instance.setItem(this.curLevelInfo)},t.getInfoByKey=function(t){return this.curLevelInfo||(this.curLevelInfo=this.getCurLevelInfo()),this.curLevelInfo[t]},t.setLatticeInfoById=function(t){for(var e=this.latticeArr.length,i=!1,r=0;r<e;r++)if(this.latticeArr[r].id==t.id){this.latticeArr[r]=t,i=!0;break}i||this.latticeArr.push(t),this.setCurLevelInfo(n.lattice,this.latticeArr)},t.updateLocalLatticeInfo=function(){this.setCurLevelInfo(n.lattice,this.latticeArr)},t.setObsLatticeInfoById=function(t){for(var e=this.obsLatticeArr.length,i=!1,r=0;r<e;r++)if(this.obsLatticeArr[r].id==t.id){this.obsLatticeArr[r]=t,i=!0;break}i||this.obsLatticeArr.push(t),this.setCurLevelInfo(n.obs,this.obsLatticeArr)},t.delGoodsInfoById=function(t){console.log(" this.latticeArr",this.latticeArr);for(var e=this.latticeArr.length,s=0;s<e;s++)if(this.latticeArr[s].id==t.id)return this.latticeArr[s].goods=t.goods,this.setCurLevelInfo(n.lattice,this.latticeArr),void i.dispatchEvent(r.UPDATE_LATTICE_CUR_NEW)},t}());o.curLevelInfo=null,o.latticeArr=[],o.obsLatticeArr=[],e._RF.pop()}}}));

System.register("chunks:///_virtual/Download.ts",["cc"],(function(e){"use strict";var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"15babzHggxCcq9+mSIGdeNg","Download",void 0);e("downloadFile",(function(e,o){void 0===o&&(o="");var n=document.createElement("a");n.download=o,n.style.display="none",n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}));o._RF.pop()}}}));

System.register("chunks:///_virtual/Editor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Data.ts","./Enum.ts","./Global.ts","./CreateJson.ts","./LevelData.ts","./Lab.ts","./SuperPanel.ts","./Tools.ts","./CreateFactory.ts","./EventMgr.ts","./EventName.ts","./GameScaleArea.ts"],(function(e){"use strict";var t,n,i,o,a,s,c,r,l,u,g,d,h,f,p,b,y,T,m,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,c=e.EditBox,r=e.Toggle},function(e){l=e.Data},function(e){u=e.LatticeType},function(e){g=e.Global},function(e){d=e.CreateJson},function(e){h=e.LevelData},function(e){f=e.Lab},function(e){p=e.default},function(e){b=e.Tools},function(e){y=e.CreateFactory},function(e){T=e.EventMgr},function(e){m=e.EventName},function(e){v=e.GameScaleArea}],execute:function(){var B,_,C,x,k,w,E,F,O;a._RF.push({},"ec4f3kZA9dN5Zm0hdXIM65d","Editor",void 0);var D=s.ccclass,L=s.property;e("Editor",(B=D("Editor"),_=L(c),C=L(c),x=L(c),B((E=t((w=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"editBox_1",E,o(t)),i(t,"editBox_2",F,o(t)),i(t,"editBox_3",O,o(t)),t.obsFactory=null,t}n(t,e);var a=t.prototype;return a.onEnable=function(){var t;e.prototype.onEnable.call(this),this.dataInit(),this.onMessageEvent(),this.obsFactory=new y(this.view.content22),this.byNameCreateObs("Toggle11"),null==(t=this.view.areaBg)||t.getComponent(v).resume()},a.dataInit=function(){h.instance.init(),this.editBox_1.string=h.instance.latticeRow+"",this.editBox_2.string=h.instance.latticeCol+"",this.editBox_3.string=h.instance.latticePixel+"",this.setToggleUdpate()},a.setToggleUdpate=function(){switch(h.instance.roomType){case 1:this.view.Toggle1.getComponent(r).isChecked=!0;break;case 2:this.view.Toggle2.getComponent(r).isChecked=!0;break;case 3:this.view.Toggle3.getComponent(r).isChecked=!0;break;case 4:this.view.Toggle4.getComponent(r).isChecked=!0;break;case 5:this.view.Toggle5.getComponent(r).isChecked=!0}},a.onMessageEvent=function(){this.editBox_1.node.on("text-changed",this.editBox_1_func,this),this.editBox_2.node.on("text-changed",this.editBox_2_func,this),this.editBox_3.node.on("text-changed",this.editBox_3_func,this)},a.editBox_1_func=function(e){h.instance.latticeRow=Number(e.string)},a.editBox_2_func=function(e){h.instance.latticeCol=Number(e.string)},a.editBox_3_func=function(e){h.instance.latticePixel=Number(e.string)},a.onClickUpdateBtn=function(){T.dispatchEvent(m.CREATE_PREFABS_ADD)},a.onClickClear=function(){h.instance.init(),this.onClickUpdateBtn()},a.onClickDownload=function(){l.getCurLevelInfo(),null!=l.curLevelInfo?d.instance.download(l.curLevelInfo):b.Tips(f.dataNotFind)},a.onClickMapType=function(e){for(var t=e.currentTarget.name,n=1;n<6;n++)if(t=="Toggle"+n)return void(h.instance.roomType=n)},a.onClickObs=function(e){var t=e.currentTarget.name;this.byNameCreateObs(t)},a.byNameCreateObs=function(e){switch(e){case"Toggle11":this.obsFactory.createByType(u.floor),g.selectObsType=u.floor;break;case"Toggle12":this.obsFactory.createByType(u.ornament),g.selectObsType=u.ornament;break;case"Toggle13":this.obsFactory.createByType(u.build),g.selectObsType=u.build;break;case"Toggle14":this.obsFactory.createByType(u.obs),g.selectObsType=u.obs;break;case"Toggle15":this.obsFactory.createByType(u.monster),g.selectObsType=u.monster;break;case"Toggle16":this.obsFactory.createByType(u.eachOther),g.selectObsType=u.eachOther}g.selectInternalType=-1},t}(p)).prototype,"editBox_1",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(w.prototype,"editBox_2",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(w.prototype,"editBox_3",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=w))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/Enum.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"91ec3K64n5GMJL9GXntasfm","Enum",void 0);e("LevelKey",{roomType:"roomType",col:"col",row:"row",pixel:"pixel",lattice:"lattice",obs:"obs"}),e("RoomType",{start:1,normal:2,end:3,creamEnemy:4,chestBox:5}),e("LatticeType",{floor:1,ornament:2,build:3,obs:4,monster:5,eachOther:6});t._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["cc"],(function(r){"use strict";var e,n;return{setters:[function(r){e=r.cclegacy,n=r._decorator}],execute:function(){var t,a;e._RF.push({},"d6cd7Vfpz5PXbWXgd9A70dp","EventMgr",void 0);var c=n.ccclass;n.property,r("EventMgr",c(((a=function(){function r(){}return r.on=function(e,n,t){var a={handler:t,target:n},c=r._handlers[e];c||(c=[],r._handlers[e]=c);for(var l=c.length,s=0;s<l;s++)if(!c[s])return c[s]=a,s;return c.push(a),c.length},r.off=function(r,e,n){var t=this._handlers[r];if(t)for(var a=t.length,c=0;c<a;c++){var l=t[c];if(l.handler===n&&e&&e===l.target){t.splice(c,1);break}}},r.dispatchEvent=function(r){var e=this._handlers[r];if(e){for(var n=e.length,t=arguments.length,a=new Array(t>1?t-1:0),c=1;c<t;c++)a[c-1]=arguments[c];for(var l=0;l<n;l++){var s=e[l];s&&s.handler.apply(s.target,a)}}else console.warn("pleace eventName is right ?",r)},r.dispatchEventAll=function(){this._handlers={},console.log("dispatchEventAll compile!")},r}())._handlers={},t=a))||t);e._RF.pop()}}}));

System.register("chunks:///_virtual/EventName.ts",["cc"],(function(E){"use strict";var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){_._RF.push({},"79859pG6jdG9qCD97OfL+1e","EventName",void 0);E("EventName",{EVENT_BOTTOMNOTE:"EVENT_BOTTOMNOTE",EVENT_TIPS_ON:"EVENT_TIPS_ON",UPDATE_OTHER_BTN_STATE:"UPDATE_OTHER_BTN_STATE",UPDATE_LATTICE_ID:"UPDATE_LATTICE_ID",UPDATE_LATTICE_CUR_NEW:"UPDATE_LATTICE_CUR_NEW",UPDATE_UI_LAYER_SIZE:"UPDATE_UI_LAYER_SIZE",UPDATE_OBS_VISIBLE:"UPDATE_OBS_VISIBLE",DESTROY_UI_LAYER:"DESTROY_UI_LAYER",UPDATE_UI_LAYER:"UPDATE_UI_LAYER",UPDATE_FLOOR_SELECT:"UPDATE_FLOOR_SELECT",UPDATE_ORNAMENT_SELECT:"UPDATE_ORNAMENT_SELECT",UPDATE_OBSORAMENT_SELECT:"UPDATE_OBSORAMENT_SELECT",DEL_UILAYER_NODE:"DEL_UILAYER_NODE",CREATE_PREFABS_ADD:"CREATE_PREFABS_ADD"});_._RF.pop()}}}));

System.register("chunks:///_virtual/Floor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./EventMgr.ts","./EventName.ts","./Global.ts"],(function(t){"use strict";var e,o,s,n,i,l,c;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,s=t._decorator},function(t){n=t.BasePanel},function(t){i=t.EventMgr},function(t){l=t.EventName},function(t){c=t.Global}],execute:function(){var r;o._RF.push({},"252d6WUBMpLaoyfvvObKa8T","Floor",void 0);var a=s.ccclass;s.property,t("Floor",a("Floor")(r=function(t){function o(){for(var e,o=arguments.length,s=new Array(o),n=0;n<o;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).floorType=-1,e.floorInfo=null,e.isSelect=!1,e}e(o,t);var s=o.prototype;return s.init=function(e){t.prototype.init.call(this,e),this.floorType=e.info.type,this.floorInfo=e.info,this.showByType()},s.onMessageEvent=function(){t.prototype.onMessageEvent.call(this),i.on(l.UPDATE_FLOOR_SELECT,this,this.updateSelect)},s.offMessageEvent=function(){t.prototype.offMessageEvent.call(this),i.off(l.UPDATE_FLOOR_SELECT,this,this.updateSelect)},s.showByType=function(){var t,e,o=null!=(t=null==(e=this.floorInfo)?void 0:e.imgUrl)?t:"";this.tools.loadImg("img",o)},s.onClick=function(){this.isSelect=!this.isSelect,this.tools.visible("select",this.isSelect),this.isSelect?(c.selectInternalType=this.floorType,i.dispatchEvent(l.UPDATE_FLOOR_SELECT,this.floorType)):(c.selectSp=null,c.selectInternalType=-1)},s.updateSelect=function(t){this.isSelect=this.floorType==t,this.tools.visible("select",this.isSelect)},o}(n))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/GameScaleArea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./EventMgr.ts","./EventName.ts","./Utils.ts","./Data.ts","./LevelData.ts","./Global.ts","./Obs.ts","./Lattice.ts"],(function(t){"use strict";var e,n,i,o,s,a,r,c,u,h,l,f,p,v,b,d,m,y,w,L,g,P,E,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy,c=t._decorator,u=t.Prefab,h=t.Vec2,l=t.Node,f=t.EventMouse,p=t.Layout,v=t.UITransform,b=t.instantiate},function(t){d=t.BasePanel},function(t){m=t.EventMgr},function(t){y=t.EventName},function(t){w=t.Utils},function(t){L=t.Data},function(t){g=t.LevelData},function(t){P=t.Global},function(t){E=t.Obs},function(t){O=t.Lattice}],execute:function(){var C,S,D,T,_,I,U;r._RF.push({},"d0b5b8uJk1Bqb5T885k3L8L","GameScaleArea",void 0);var A=c.ccclass,M=c.property;t("GameScaleArea",(C=A("GameScaleArea"),S=M(u),D=M(u),C((I=e((_=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(e,"bgLatticePrefab",I,o(e)),i(e,"obsPrefabs",U,o(e)),e.rightDownPos=new h(0,0),e.movePos=new h(0,0),e.ratio=.1,e.mouseDownCurNodePos=null,e}n(e,t);var r=e.prototype;return r.onMessageEvent=function(){t.prototype.onMessageEvent.call(this),m.on(y.CREATE_PREFABS_ADD,this,this.addChildToScene),m.on(y.UPDATE_OBS_VISIBLE,this,this.updateObsVisible),this.node.on(l.EventType.MOUSE_DOWN,this.mouseDown,this),this.node.on(l.EventType.MOUSE_MOVE,this.mouseMove,this),this.node.on(l.EventType.MOUSE_UP,this.mouseUp,this)},r.offMessageEvent=function(){t.prototype.offMessageEvent.call(this),m.off(y.CREATE_PREFABS_ADD,this,this.addChildToScene),m.off(y.UPDATE_OBS_VISIBLE,this,this.updateObsVisible),this.node.off(l.EventType.MOUSE_DOWN,this.mouseDown,this),this.node.off(l.EventType.MOUSE_MOVE,this.mouseMove,this),this.node.off(l.EventType.MOUSE_UP,this.mouseUp,this)},r.mouseDown=function(t){if(t.getButton()==f.BUTTON_RIGHT){this.mouseDownCurNodePos=this.view.latticeLayer.position;var e=t.getLocationX(),n=t.getLocationY();this.rightDownPos.x=e,this.rightDownPos.y=n}},r.mouseMove=function(t){if(t.getButton()==f.BUTTON_RIGHT){var e=t.getLocationX(),n=t.getLocationY();this.movePos.x=e,this.movePos.y=n;var i=e-this.rightDownPos.x,o=n-this.rightDownPos.y;this.setNodePos(i,o)}},r.setNodePos=function(t,e){var n=this.mouseDownCurNodePos.x+t*this.ratio,i=this.mouseDownCurNodePos.y+e*this.ratio;this.view.latticeLayer.setPosition(n,i,0),this.view.uiLayer.setPosition(n,i,0),this.view.eachOtherLayer.setPosition(n,i,0),this.view.obsLayer.setPosition(n,i,0)},r.mouseUp=function(t){t.getButton();f.BUTTON_RIGHT},r.addChildToScene=function(){var t=s(a().mark((function t(){var e,n,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.view.latticeLayer.getComponent(p).constraintNum=g.instance.latticeRow,m.dispatchEvent(y.DESTROY_UI_LAYER),this.view.latticeLayer.removeAllChildren(),e=0,n=0;n<g.instance.latticeRow;n++)for(i=0;i<g.instance.latticeCol;i++)this.createPrefabs().getComponent(O).updateLabAndId(e,n+1,i+1),e++;return L.updateLocalLatticeInfo(),t.next=8,w.timeOut(this,1/60);case 8:this.updateAllContentSize(),this.tools.visible("obsLayer",P.ObsState),this.createObsFormInit();case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.resume=function(){!g.instance.layerInfo||g.instance.layerInfo.length<=0||(this.view.latticeLayer.getComponent(p).constraintNum=g.instance.latticeRow,this.addUILayer())},r.addUILayer=function(){var t=s(a().mark((function t(){var e,n,i,o,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=g.instance.layerInfo,n=0;n<e.length;n++)this.createPrefabs().getComponent(O).updateLabAndId(null==(i=e[n])?void 0:i.id,null==(o=e[n])?void 0:o.col,null==(s=e[n])?void 0:s.row,e[n].goods);return t.next=4,w.timeOut(this,1/60);case 4:this.updateAllContentSize(),this.view.latticeLayer.children.forEach((function(t){t.getComponent(O).updateUIShow()})),this.tools.visible("obsLayer",P.ObsState),this.createObsFormData();case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.updateAllContentSize=function(){var t=this.view.latticeLayer.getComponent(v).contentSize;m.dispatchEvent(y.UPDATE_UI_LAYER_SIZE,t),this.view.obsLayer.getComponent(v).setContentSize(t),this.view.eachOtherLayer.getComponent(v).setContentSize(t)},r.createPrefabs=function(){var t=b(this.bgLatticePrefab);return this.view.latticeLayer.addChild(t),t},r.createObsFormInit=function(){var t=s(a().mark((function t(){var e,n,i,o,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.view.obsLayer.removeAllChildren(),this.view.obsLayer.getComponent(p).constraintNum=2*g.instance.latticeRow,e=0,n=0;n<2*g.instance.latticeRow;n++)for(i=0;i<2*g.instance.latticeCol;i++)o=this.createObsPrefabs(),s={col:i+1,row:n+1,id:e},o.getComponent(E).init(s),e++;case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.createObsFormData=function(){var t=s(a().mark((function t(){var e,n,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=g.instance.obsInfo)&&!(e.length<=0)){t.next=4;break}return this.createObsFormInit(),t.abrupt("return");case 4:for(this.view.obsLayer.removeAllChildren(),this.view.obsLayer.getComponent(p).constraintNum=2*g.instance.latticeRow,n=e.length,i=0;i<n;i++)this.createObsPrefabs().getComponent(E).init(e[i]);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.createObsPrefabs=function(){var t=b(this.obsPrefabs);return this.view.obsLayer.addChild(t),t},r.updateObsVisible=function(){this.tools.visible("obsLayer",P.ObsState)},e}(d)).prototype,"bgLatticePrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(_.prototype,"obsPrefabs",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=_))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/Global.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./EventName.ts","./Enum.ts"],(function(t){"use strict";var e,n,s,o,c;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){s=t.EventMgr},function(t){o=t.EventName},function(t){c=t.LatticeType}],execute:function(){n._RF.push({},"5f98dnkvv1D7oVgXGajz00t","Global",void 0);var u=t("Global",function(){function t(){}return e(t,null,[{key:"SelectMouseState",get:function(){return this._selectMouseState},set:function(t){this._selectMouseState=t}},{key:"ObsState",get:function(){return this._obsState},set:function(t){this._obsState=t,s.dispatchEvent(o.UPDATE_OBS_VISIBLE)}}]),t}());u._selectMouseState=!1,u.DelState=!1,u.AddObs=!1,u._obsState=!1,u.GameEditorLevel=0,u.selectObsType=c.floor,u.selectInternalType=-1,u.selectSp=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/Lab.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"375eeT3A0hPbIB3FBXQDKyw","Lab",void 0);var c=e("Lab",(function(){}));c.levelName="level",c.line="_",c.str=" ",c.dataNotFind="数据异常！",t._RF.pop()}}}));

System.register("chunks:///_virtual/Lattice.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./EventMgr.ts","./EventName.ts","./Data.ts","./Global.ts"],(function(t){"use strict";var e,i,o,s,n,a,c,l,r,h,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,c=t.Label},function(t){l=t.BasePanel},function(t){r=t.EventMgr},function(t){h=t.EventName},function(t){f=t.Data},function(t){p=t.Global}],execute:function(){var u,d,I,T,E;n._RF.push({},"25394bQRrlE2Y0g57DypppS","Lattice",void 0);var g=a.ccclass,y=a.property;t("Lattice",(u=g("Lattice"),d=y(c),u((E=e((T=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(e,"idLab",E,s(e)),e.isSelect=!1,e.latticeInfo={col:0,row:0,id:0},e}i(e,t);var n=e.prototype;return n.onMessageEvent=function(){t.prototype.onMessageEvent.call(this),r.on(h.UPDATE_OTHER_BTN_STATE,this,this.updateBtnState),r.on(h.UPDATE_LATTICE_CUR_NEW,this,this.updateBtnState)},n.offMessageEvent=function(){t.prototype.offMessageEvent.call(this),r.off(h.UPDATE_OTHER_BTN_STATE,this,this.updateBtnState),r.off(h.UPDATE_LATTICE_CUR_NEW,this,this.updateBtnState)},n.updateLabAndId=function(t,e,i,o){this.latticeInfo.id=t,this.idLab.string=this.latticeInfo.id+"",this.latticeInfo.col=e,this.latticeInfo.row=i,o&&(this.latticeInfo.goods=o),f.setLatticeInfoById(this.latticeInfo)},n.updateCurLattice=function(t){this.latticeInfo.goods=t,this.updateUIShow()},n.updateUIShow=function(){var t=this;this.latticeInfo.goods&&this.latticeInfo.goods.length>0&&this.latticeInfo.goods.forEach((function(e){var i=t.node.getPosition(),o=e.type,s=e.smallType;r.dispatchEvent(h.UPDATE_UI_LAYER,i,t.latticeInfo.id,o,s)}))},n.onClick=function(){p.SelectMouseState&&(this.isSelect=!this.isSelect,this.tools.visible("select",this.isSelect),r.dispatchEvent(h.UPDATE_OTHER_BTN_STATE,this.latticeInfo.id),r.dispatchEvent(h.UPDATE_LATTICE_ID,this.latticeInfo)),-1!=p.selectInternalType&&-1!=p.selectObsType&&(-1==p.selectInternalType?console.log("do nothing ! console log"):this.showByObsType())},n.showByObsType=function(){var t=this.node.getPosition();r.dispatchEvent(h.UPDATE_UI_LAYER,t,this.latticeInfo.id),this.putIntoGoods()},n.updateBtnState=function(t){this.latticeInfo.id!=t&&(this.isSelect=!1,this.tools.visible("select",this.isSelect))},n.putIntoGoods=function(){this.checkIsRepeat()||(this.latticeInfo.goods||(this.latticeInfo.goods=[]),this.latticeInfo.goods.push({type:p.selectObsType,smallType:p.selectInternalType}),f.setLatticeInfoById(this.latticeInfo))},n.checkIsRepeat=function(){if(!this.latticeInfo.goods)return!1;var t=this.latticeInfo.goods.length;if(t<=0)return!1;for(var e=0;e<t;e++){var i=this.latticeInfo.goods[e].smallType,o=this.latticeInfo.goods[e].type;if(i==p.selectInternalType&&o==p.selectObsType)return!0}return!1},e}(l)).prototype,"idLab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=T))||I));n._RF.pop()}}}));

System.register("chunks:///_virtual/LatticeIconLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./EventMgr.ts","./EventName.ts","./Lab.ts","./Data.ts","./Model.ts","./Global.ts"],(function(t){"use strict";var e,n,i,o,s,c,a,l,r,h,f,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.Node,s=t.Sprite},function(t){c=t.BasePanel},function(t){a=t.EventMgr},function(t){l=t.EventName},function(t){r=t.Lab},function(t){h=t.Data},function(t){f=t.Model},function(t){u=t.Global}],execute:function(){var y;n._RF.push({},"da31avqrPxBrIEeEjzjOXnO","LatticeIconLayer",void 0);var p=i.ccclass;i.property,t("MapLatticeIconLayer",p("MapLatticeIconLayer")(y=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).curLatticeId=-1,e.curInfo=null,e.nameList=["layer1","layer2","layer3","layer4","layer5"],e.layerList=[],e}e(n,t);var i=n.prototype;return i.onLoad=function(){t.prototype.onLoad.call(this)},i.onMessageEvent=function(){t.prototype.onMessageEvent.call(this),a.on(l.UPDATE_LATTICE_ID,this,this.updateId),this.view.layer1.on(o.EventType.TOUCH_END,this.onClickIcon1,this),this.view.layer2.on(o.EventType.TOUCH_END,this.onClickIcon2,this),this.view.layer3.on(o.EventType.TOUCH_END,this.onClickIcon3,this),this.view.layer4.on(o.EventType.TOUCH_END,this.onClickIcon4,this),this.view.layer5.on(o.EventType.TOUCH_END,this.onClickIcon5,this)},i.offMessageEvent=function(){t.prototype.offMessageEvent.call(this),a.off(l.UPDATE_LATTICE_ID,this,this.updateId),this.view.layer1.off(o.EventType.TOUCH_END,this.onClickIcon1,this),this.view.layer2.off(o.EventType.TOUCH_END,this.onClickIcon2,this),this.view.layer3.off(o.EventType.TOUCH_END,this.onClickIcon3,this),this.view.layer4.off(o.EventType.TOUCH_END,this.onClickIcon4,this),this.view.layer5.off(o.EventType.TOUCH_END,this.onClickIcon5,this)},i.updateId=function(t){this.curLatticeId=t.id,this.curInfo=t;for(var e=this.curInfo.goods,n=1;n<6;n++)this.view["layer"+n].getComponent(s).spriteFrame=null;if(e&&!(e.length<=0))for(var i=0;i<e.length;i++){var o,c,a=null==(o=e[i])?void 0:o.smallType,l=null==(c=e[i])?void 0:c.type,r=this.nameList[i],h=f.getImg(l,a);this.tools.loadImg(r,h),this.layerList.push({id:i,info:e[i]})}},i.onClickIcon1=function(){this.handleClick(0,"layer1")},i.onClickIcon2=function(){this.handleClick(1,"layer2")},i.onClickIcon3=function(){this.handleClick(2,"layer3")},i.onClickIcon4=function(){this.handleClick(3,"layer4")},i.onClickIcon5=function(){this.handleClick(4,"layer5")},i.handleClick=function(t,e){this.setSpriteFrame(e,null);var n=this.curInfo.goods[t],i=n.type+r.line+n.smallType+r.line+this.curInfo.id;a.dispatchEvent(l.DEL_UILAYER_NODE,i),this.curInfo.goods.splice(t,1),this.updateId(this.curInfo),h.delGoodsInfoById(this.curInfo)},i.setSpriteFrame=function(t,e){u.DelState&&(this.view[t].getComponent(s).spriteFrame=e)},n}(c))||y);n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Data.ts","./Enum.ts","./LevelDataBase.ts"],(function(t){"use strict";var e,n,i,o,s,l;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy},function(t){o=t.Data},function(t){s=t.LevelKey},function(t){l=t.LevelDataBase}],execute:function(){i._RF.push({},"a80323oZ3dJl5EyNmnZ9dVR","LevelData",void 0),t("LevelData",function(t){function i(){return t.apply(this,arguments)||this}return e(i,t),i.prototype.init=function(){o.getCurLevelInfo(),this.latticeCol=o.getInfoByKey(s.col),this.latticeRow=o.getInfoByKey(s.row),this.latticePixel=o.getInfoByKey(s.pixel),this.roomType=o.getInfoByKey(s.roomType),this.layerInfo=o.getInfoByKey(s.lattice),this.obsInfo=o.getInfoByKey(s.obs)},n(i,null,[{key:"instance",get:function(){return null==this._ins&&(this._ins=new i),this._ins}}]),i}(l))._ins=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/LevelDataBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Data.ts","./Enum.ts"],(function(t){"use strict";var e,i,o,n,s;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){o=t.Data},function(t){n=t.RoomType,s=t.LevelKey}],execute:function(){i._RF.push({},"d6ca2tE/pRDJKYGPU+F72DH","LevelDataBase",void 0);t("LevelDataBase",function(){function t(){this._latticeRow=0,this._latticeCol=0,this._latticePixel=100,this._layerInfo=[],this._roomType=n.normal,this._obs=[]}return e(t,[{key:"roomType",get:function(){return this._roomType},set:function(t){this._roomType=t,o.setCurLevelInfo(s.roomType,this._roomType)}},{key:"latticeRow",get:function(){return this._latticeRow},set:function(t){this._latticeRow=t,o.setCurLevelInfo(s.row,this._latticeRow)}},{key:"latticeCol",get:function(){return this._latticeCol},set:function(t){this._latticeCol=t,o.setCurLevelInfo(s.col,this._latticeCol)}},{key:"latticePixel",get:function(){return this._latticePixel},set:function(t){this._latticePixel=t,o.setCurLevelInfo(s.pixel,this._latticePixel)}},{key:"layerInfo",get:function(){return this._layerInfo},set:function(t){this._layerInfo=t,o.setCurLevelInfo(s.lattice,this._layerInfo)}},{key:"obsInfo",get:function(){return this._obs},set:function(t){this._obs=t,o.setCurLevelInfo(s.obs,this._obs)}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/LevelDefualt.ts",["cc","./Enum.ts"],(function(e){"use strict";var t,c;return{setters:[function(e){t=e.cclegacy},function(e){c=e.RoomType}],execute:function(){t._RF.push({},"86ea82WEcdEUrV3QXbdO2Wv","LevelDefualt",void 0);e("LevelDefualt",{roomType:c.normal,col:10,row:10,pixel:100,lattice:[]});t._RF.pop()}}}));

System.register("chunks:///_virtual/LoadMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var r,t,e,u,a,i,s,o,c,f;return{setters:[function(n){r=n.createClass,t=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){u=n.cclegacy,a=n.instantiate,i=n.find,s=n.Prefab,o=n.SpriteFrame,c=n.assetManager,f=n.resources}],execute:function(){u._RF.push({},"482452HYF1GuLDaNuF4Fxlx","LoadMgr",void 0),n("LoadMgr",function(){function n(){}var u=n.prototype;return u.loadRes=function(){var n=t(e().mark((function n(r,t){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,e){f.load(r,t,(function(r,t){r?e(null):n(t)}))})).catch((function(){return null})));case 1:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}(),u.create=function(){var n=t(e().mark((function n(r,t){var u,o;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadRes(r,s);case 2:if(u=n.sent){n.next=5;break}return n.abrupt("return",null);case 5:return(o=a(u)).setPosition(0,0,0),t||(t=i("Canvas")),t.addChild(o),n.abrupt("return",o);case 10:case"end":return n.stop()}}),n,this)})));return function(r,t){return n.apply(this,arguments)}}(),u.loadImg=function(){var n=t(e().mark((function n(r,t){var u=this;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return",new Promise((function(n,r){n("")})));case 2:return n.abrupt("return",new Promise((function(n,e){u.loadNetImg(r,t).then((function(r){var t=new o;t.texture=r,n(t)}),(function(n){e(n)}))})));case 3:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}(),u.loadNetImg=function(){var n=t(e().mark((function n(r,t){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===t&&(t=""),n.abrupt("return",new Promise((function(n,e){c.loadRemote(r,{ext:t},(function(r,t){r?e(r):n(t)}))})));case 2:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}(),u.loadImgFromRes=function(){var n=t(e().mark((function n(r){var t;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadRes(r,o);case 2:if(t=n.sent){n.next=5;break}return n.abrupt("return",null);case 5:return n.abrupt("return",t);case 6:case"end":return n.stop()}}),n,this)})));return function(r){return n.apply(this,arguments)}}(),r(n,null,[{key:"instance",get:function(){return this._ins||(this._ins=new n),this._ins}}]),n}())._ins=null,u._RF.pop()}}}));

System.register("chunks:///_virtual/Local.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"1468dlMtGdP/5NSNC9cX6Y3","Local",void 0),t("Local",function(){function t(){this.itemKey="editor_json_key"}var n=t.prototype;return n.setItem=function(t){localStorage.setItem(this.itemKey,JSON.stringify(t))},n.getItem=function(){var t=localStorage.getItem(this.itemKey);return JSON.parse(t)},e(t,null,[{key:"instance",get:function(){return this._ins||(this._ins=new t),this._ins}}]),t}())._ins=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BasePanel.ts","./EventMgr.ts","./EventName.ts","./Lab.ts","./LoadMgr.ts","./PanelTools.ts","./SuperPanel.ts","./Utils.ts","./Data.ts","./Enum.ts","./LevelData.ts","./LevelDataBase.ts","./LevelDefualt.ts","./Local.ts","./Model.ts","./ObsEnum.ts","./CreateJson.ts","./Download.ts","./Editor.ts","./Global.ts","./CreateFactory.ts","./Floor.ts","./Obs.ts","./ObsOrnament.ts","./Ornament.ts","./BtnAreaLayout.ts","./GameScaleArea.ts","./Lattice.ts","./LatticeIconLayer.ts","./Tips.ts","./Tools.ts","./UILayer.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Model.ts",["cc","./Enum.ts","./ObsEnum.ts"],(function(e){"use strict";var r,t,n,o,u;return{setters:[function(e){r=e.cclegacy},function(e){t=e.LatticeType},function(e){n=e.ObsTypeArr,o=e.OrnamentTypeArr,u=e.FloorTypeArr}],execute:function(){r._RF.push({},"93512S2bJ1CXatacl4UkZsK","Model",void 0);e("Model",function(){function e(){}return e.getImg=function(e,r){var t=this.getInfoByType(e,r);return t?t.imgUrl:""},e.getInfoByType=function(e,r){var c=null;switch(e){case t.floor:c=this.getTypeInfoFormArr(u,r);break;case t.ornament:c=this.getTypeInfoFormArr(o,r);break;case t.build:break;case t.obs:c=this.getTypeInfoFormArr(n,r)}return c},e.getTypeInfoFormArr=function(e,r){for(var t=0;t<e.length;t++)if(e[t].type==r)return e[t];return null},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/Obs.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./Data.ts","./Global.ts"],(function(t){"use strict";var o,s,i,n,e,a;return{setters:[function(t){o=t.inheritsLoose},function(t){s=t.cclegacy,i=t._decorator},function(t){n=t.BasePanel},function(t){e=t.Data},function(t){a=t.Global}],execute:function(){var c;s._RF.push({},"95ea2xqRMZGJpNJ4kxdaBbJ","Obs",void 0);var l=i.ccclass;i.property,t("Obs",l("Obs")(c=function(t){function s(){for(var o,s=arguments.length,i=new Array(s),n=0;n<s;n++)i[n]=arguments[n];return(o=t.call.apply(t,[this].concat(i))||this).obsLatticeInfo={col:0,row:0,id:0},o}o(s,t);var i=s.prototype;return i.init=function(t){this.obsLatticeInfo.col=t.col,this.obsLatticeInfo.row=t.row,this.obsLatticeInfo.id=t.id,t.obs&&(this.obsLatticeInfo.obs=t.obs),t.fill&&(this.obsLatticeInfo.fill=t.fill),e.setObsLatticeInfoById(this.obsLatticeInfo),this.updateUIShow()},i.onEnable=function(){this.updateUIShow()},i.updateUIShow=function(){var t,o,s,i=null!=(t=this.obsLatticeInfo.obs)&&t;null==(o=this.tools)||o.visible("notDefual",!i),null==(s=this.tools)||s.visible("change",i)},i.onClick=function(){var t;a.AddObs&&(this.obsLatticeInfo.obs=!(null!=(t=this.obsLatticeInfo)&&t.obs),this.updateUIShow(),e.setObsLatticeInfoById(this.obsLatticeInfo),console.log(""))},s}(n))||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/ObsEnum.ts",["cc"],(function(r){"use strict";var e,t;return{setters:[function(r){e=r.cclegacy,t=r.Prefab}],execute:function(){e._RF.push({},"679decIc0dH7Lr2Vl6J8xpk","ObsEnum",void 0);var s=r("FloorType",{Desert:1}),p=(r("FloorTypeArr",[{type:s.Desert,resType:t,url:"prefabs/floor",script:"Floor",imgUrl:"ui/map/floor/img_shamo_1/spriteFrame",stop:!1}]),r("OrnamentType",{Flower:1})),a=(r("OrnamentTypeArr",[{type:p.Flower,resType:t,url:"prefabs/ornament",script:"Ornament",imgUrl:"ui/map/ornament/img_flower_1/spriteFrame",stop:!1}]),r("ObsType",{Carrot:1,Cauliflower:2,Lettuce:3,Mushroom:4}));r("ObsTypeArr",[{type:a.Carrot,resType:t,url:"prefabs/obsOrnament",script:"ObsOrnament",imgUrl:"ui/map/all/img_all_carrot/spriteFrame",stop:!1},{type:a.Cauliflower,resType:t,url:"prefabs/obsOrnament",script:"ObsOrnament",imgUrl:"ui/map/all/img_all_cauliflower/spriteFrame",stop:!1},{type:a.Lettuce,resType:t,url:"prefabs/obsOrnament",script:"ObsOrnament",imgUrl:"ui/map/all/img_all_lettuce/spriteFrame",stop:!1},{type:a.Mushroom,resType:t,url:"prefabs/obsOrnament",script:"ObsOrnament",imgUrl:"ui/map/all/img_all_mushroom/spriteFrame",stop:!1}]);e._RF.pop()}}}));

System.register("chunks:///_virtual/ObsOrnament.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./EventMgr.ts","./EventName.ts","./Utils.ts","./Global.ts"],(function(t){"use strict";var e,n,s,i,o,r,l,a,c,h,u;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){i=t.cclegacy,o=t._decorator,r=t.UITransform},function(t){l=t.BasePanel},function(t){a=t.EventMgr},function(t){c=t.EventName},function(t){h=t.Utils},function(t){u=t.Global}],execute:function(){var p;i._RF.push({},"16ee4W5JlJBhpAQ+aV486MT","ObsOrnament",void 0);var f=o.ccclass;o.property,t("ObsOrnament",f("ObsOrnament")(p=function(t){function i(){for(var e,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))||this).ObsOrnamentType=-1,e.ObsOrnamentInfo=null,e.isSelect=!1,e.wh=100,e}e(i,t);var o=i.prototype;return o.init=function(e){t.prototype.init.call(this,e),this.ObsOrnamentType=e.info.type,this.ObsOrnamentInfo=e.info,this.showByType()},o.onMessageEvent=function(){t.prototype.onMessageEvent.call(this),a.on(c.UPDATE_OBSORAMENT_SELECT,this,this.updateSelect)},o.offMessageEvent=function(){t.prototype.offMessageEvent.call(this),a.off(c.UPDATE_OBSORAMENT_SELECT,this,this.updateSelect)},o.showByType=function(){var t=n(s().mark((function t(){var e,n,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.tools.visible("img",!1),i=null!=(e=null==(n=this.ObsOrnamentInfo)?void 0:n.imgUrl)?e:"",t.next=4,this.tools.loadImg("img",i);case 4:return t.next=6,h.timeOut(this,1/60);case 6:this.tools.visible("img",!0),this.view.img.getComponent(r).height=this.wh,this.view.img.getComponent(r).width=this.wh;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onClick=function(){this.isSelect=!this.isSelect,this.tools.visible("select",this.isSelect),this.isSelect?(u.selectInternalType=this.ObsOrnamentType,a.dispatchEvent(c.UPDATE_OBSORAMENT_SELECT,this.ObsOrnamentType)):(u.selectSp=null,u.selectInternalType=-1)},o.updateSelect=function(t){this.isSelect=this.ObsOrnamentType==t,this.tools.visible("select",this.isSelect)},i}(l))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/Ornament.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./EventMgr.ts","./EventName.ts","./Global.ts"],(function(t){"use strict";var e,n,s,i,o,l,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,s=t._decorator},function(t){i=t.BasePanel},function(t){o=t.EventMgr},function(t){l=t.EventName},function(t){c=t.Global}],execute:function(){var a;n._RF.push({},"179c4A65ihDtpN4DEOL2JAE","Ornament",void 0);var r=s.ccclass;s.property,t("Ornament",r("Ornament")(a=function(t){function n(){for(var e,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))||this).ornamentInfo=null,e.ornamentType=-1,e.isSelect=!1,e}e(n,t);var s=n.prototype;return s.init=function(e){t.prototype.init.call(this,e),this.ornamentInfo=e.info,this.ornamentType=e.info.type,this.showByType()},s.showByType=function(){var t,e,n=null!=(t=null==(e=this.ornamentInfo)?void 0:e.imgUrl)?t:"";this.tools.loadImg("img",n)},s.onMessageEvent=function(){t.prototype.onMessageEvent.call(this),o.on(l.UPDATE_ORNAMENT_SELECT,this,this.updateSelect)},s.offMessageEvent=function(){t.prototype.offMessageEvent.call(this),o.off(l.UPDATE_ORNAMENT_SELECT,this,this.updateSelect)},s.onClick=function(){this.isSelect=!this.isSelect,this.tools.visible("select",this.isSelect),this.isSelect?(c.selectInternalType=this.ornamentType,o.dispatchEvent(l.UPDATE_ORNAMENT_SELECT,this.ornamentType)):(c.selectSp=null,c.selectInternalType=-1)},s.updateSelect=function(t){this.isSelect=this.ornamentType==t,this.tools.visible("select",this.isSelect)},n}(i))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/PanelTools.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Lab.ts","./LoadMgr.ts"],(function(t){"use strict";var e,n,i,o,r,s,a,u,l,c;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){i=t.cclegacy,o=t.Label,r=t.Sprite,s=t.SpriteFrame,a=t.Vec3,u=t.UITransform},function(t){l=t.Lab},function(t){c=t.LoadMgr}],execute:function(){i._RF.push({},"9e3ff4q9WxJbbzLvrExQYdM","PanelTools",void 0);t("PanelTools",function(){function t(t,e){this.view=t,this.adaptImgObj=e}var i=t.prototype;return i.destroy=function(){},i.visible=function(t,e){var n;null!=(n=this.view)&&n[t]&&(this.view[t].active=e)},i.text=function(t,e){var n;null!=(n=this.view)&&n[t]&&(this.view[t].getComponent(o).string=e+l.str)},i.sp=function(t,e){var n;null!=(n=this.view)&&n[t]&&(this.view[t].getComponent(r).spriteFrame=null!=e?e:null)},i.adaptImg=function(t,e){var n,i=this.adaptImgObj.hasOwnProperty(t),o=this.view[t],u=i?this.adaptImgObj[t]:null==(n=this.getUITransform(o))?void 0:n.height,l=e.height,c=Number((u/l).toFixed(3)),p=new s;this.adaptImgObj[t]=u,p.texture=e;var f=o.getComponent(r);f.sizeMode=1,f.type=0,o.setScale(new a(c,c,0)),f.spriteFrame=p},i.getUITransform=function(t){return t?(null!=t&&t.getComponent(u)||t.addComponent(u),t.getComponent(u)):null},i.setPostion=function(t,e){var n;e&&("string"!=typeof t?t&&(null==t||t.setPosition(e)):null==(n=this.view[t])||n.setPosition(e))},i.setWorldPostion=function(t,e){var n;e&&("string"!=typeof t?t&&(null==t||t.setWorldPosition(e)):null==(n=this.view[t])||n.setWorldPosition(e))},i.loadImg=function(){var t=e(n().mark((function t(e,i){var o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.instance.loadImgFromRes(i);case 2:if(o=t.sent,"string"!=typeof e){t.next=6;break}return o&&(this.view[e].getComponent(r).spriteFrame=o),t.abrupt("return");case 6:o&&e&&(e.getComponent(r).spriteFrame=o);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/SuperPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts"],(function(n){"use strict";var t,e,o,a,i;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,a=n.BlockInputEvents},function(n){i=n.BasePanel}],execute:function(){var s;e._RF.push({},"cacd0Ll/S9DZ5LryULln/+b","SuperPanel",void 0);var c=o.ccclass;o.property,n("default",c(s=function(n){function e(){for(var t,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))||this).myData=void 0,t.isAddBlockInputEvent=!0,t}t(e,n);var o=e.prototype;return o.init=function(n){this.myData=n},o.onEnable=function(){n.prototype.onEnable.call(this),this.panelInit(),this.adapt()},o.onDisable=function(){n.prototype.onDisable.call(this)},o.panelInit=function(){this.reserve(),this.addBlockInputEvents()},o.addBlockInputEvents=function(){var n=this.node.getComponent(a);this.isAddBlockInputEvent?n?n.enabled=!0:this.node.addComponent(a):n&&(n.enabled=!1)},o.clickClosePage=function(){this.closePage()},o.closePage=function(){this.node.parent&&(this.node.parent=null)},o.adapt=function(){},o.reserve=function(){},e}(i))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/Tips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SuperPanel.ts"],(function(t){"use strict";var e,i,n,o,s,a,r,c,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,o=t.Label,s=t.UITransform,a=t.tween,r=t.Vec3,c=t.UIOpacity},function(t){l=t.default}],execute:function(){var u;i._RF.push({},"348f3KmJRRHeZClyXezimLZ","Tips",void 0);var h=n.ccclass;n.property,t("Tips",h("Tips")(u=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).moveX=0,e.moveY=150,e}e(i,t);var n=i.prototype;return n.init=function(e){t.prototype.init.call(this,e),this.setLable(),this.setBgHeigh(),this.playAnim()},n.setLable=function(){var t,e=this.myData.text?this.myData.text:"",i=null==(t=this.view.textLabel)?void 0:t.getComponent(o);i.string=e+"",i.updateRenderData(!0)},n.setBgHeigh=function(){var t,e=30+(null==(t=this.view.textLabel)?void 0:t.getComponent(s).height);this.view.tipsBg.getComponent(s).height=e},n.playAnim=function(){var t=this;this.tipsAnim(this.node,this.moveX,this.moveY).then((function(){t.closePage()})).then((function(t){t&&console.log(t)}))},n.update=function(){this.node&&this.isValid&&this.node.setSiblingIndex(999)},n.tipsAnim=function(t,e,i){return new Promise((function(n,o){t?a(t).to(1.5,{position:new r(e,i,0)}).call((function(){var e=t.getComponent(c);a(e).to(.5,{opacity:0}).call((function(){n("finish !")})).start()})).start():o("not find node!")}))},i}(l))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/Tools.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./EventMgr.ts","./EventName.ts","./Tips.ts"],(function(t){"use strict";var e,i,n,s,o,r,a,p,c,l,f,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Prefab,p=t.instantiate,c=t.UIOpacity},function(t){l=t.BasePanel},function(t){f=t.EventMgr},function(t){u=t.EventName},function(t){h=t.Tips}],execute:function(){var v,T,E,d,g;o._RF.push({},"73374/PApBFuJGPmFSc0j99","Tools",void 0);var y=r.ccclass,P=r.property;t("Tools",(v=y("Tools"),T=P(a),v((g=e((d=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"tipsPrefab",g,s(e)),e.nodeScript=null,e.pref=null,e}i(e,t),e.Tips=function(t){f.dispatchEvent(u.EVENT_TIPS_ON,t)};var o=e.prototype;return o.onMessageEvent=function(){t.prototype.onMessageEvent.call(this),f.on(u.EVENT_TIPS_ON,this,this.showTips)},o.offMessageEvent=function(){t.prototype.offMessageEvent.call(this),f.off(u.EVENT_TIPS_ON,this,this.showTips)},o.showTips=function(t){this.pref=p(this.tipsPrefab),this.pref.active=!0,this.pref.getComponent(c).opacity=255,this.node.addChild(this.pref),this.nodeScript=this.pref.getComponent(h),this.nodeScript.init({text:t})},e}(l)).prototype,"tipsPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=d))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/UILayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./EventMgr.ts","./EventName.ts","./Lab.ts","./Enum.ts","./Model.ts","./Global.ts"],(function(t){"use strict";var e,n,o,i,s,a,r,c,l,h,f,u,p;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.UITransform,s=t.Node,a=t.Sprite},function(t){r=t.BasePanel},function(t){c=t.EventMgr},function(t){l=t.EventName},function(t){h=t.Lab},function(t){f=t.LatticeType},function(t){u=t.Model},function(t){p=t.Global}],execute:function(){var d;n._RF.push({},"c1904Qw5sBExbNURixzLUJv","UILayer",void 0);var E=o.ccclass;o.property,t("UILayer",E("UILayer")(d=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).map=new Map,e.nameList=[],e}e(n,t);var o=n.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this),this.map.set(f.floor,"layer1"),this.map.set(f.ornament,"layer2"),this.map.set(f.build,"layer3"),this.map.set(f.obs,"layer4"),this.map.set(f.monster,"layer5")},o.onMessageEvent=function(){t.prototype.onMessageEvent.call(this),c.on(l.UPDATE_UI_LAYER,this,this.updateUiByType),c.on(l.UPDATE_UI_LAYER_SIZE,this,this.updateNodeSize),c.on(l.DESTROY_UI_LAYER,this,this.destroyAll),c.on(l.DEL_UILAYER_NODE,this,this.delNode)},o.offMessageEvent=function(){t.prototype.offMessageEvent.call(this),c.off(l.UPDATE_UI_LAYER,this,this.updateUiByType),c.off(l.UPDATE_UI_LAYER_SIZE,this,this.updateNodeSize),c.off(l.DESTROY_UI_LAYER,this,this.destroyAll),c.off(l.DEL_UILAYER_NODE,this,this.delNode)},o.updateNodeSize=function(t){this.node.getComponent(i).setContentSize(t);for(var e=1;e<6;e++)this.view["layer"+e].getComponent(i).setContentSize(t)},o.updateUiByType=function(t,e,n,o){n||(n=p.selectObsType),o||(o=p.selectInternalType);var i=this.map.get(n);if(i){var s=n+h.line+o+h.line+e;if(!this.checkName(s)){var a=u.getImg(n,o),r=this.createNode(i,t,s);this.tools.loadImg(r,a)}}},o.createNode=function(t,e,n){var o=new s;return o.addComponent(a),o.name=n,this.nameList.push(n),o.setWorldPosition(e),o.parent=this.view[t],o},o.checkName=function(t){var e=!1;return this.nameList.forEach((function(n){n==t&&(e=!0)})),e},o.destroyAll=function(){this.node.children.forEach((function(t){t.removeAllChildren()})),this.nameList=[]},o.delNode=function(t){this.node.children.forEach((function(e){e.children.forEach((function(e){e.name==t&&e.destroy()}))}))},n}(r))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1edafEqLSVE3qSt5VHx7ds9","Utils",void 0);t("Utils",function(){function t(){}return t.timeOut=function(t,e){return new Promise((function(n){t.scheduleOnce((function(){n("")}),e)}))},t.timeOut1=function(t){return new Promise((function(e){setTimeout((function(){e("")}),t)}))},t.scrambleArray=function(t){return t.sort((function(){return Math.random()>.5?-1:1}))},t.towPointDistance=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.analysisUrlToObj=function(t){var e,n,r={},o=null==t||null==(e=t.split("?"))||null==(n=e[1])?void 0:n.split("&");if(!o||!o.length)return r;for(var u=0;u<o.length;u++){var i=o[u].split("=");r[i[0]]=i[1]}return r},t.ellipsis=function(t,e,n){return void 0===n&&(n="..."),t.length<=e?t:t.substr(0,e)+n},t.bigNumberTransform=function(t){for(var e=["","",""],n=1e3,r=3,o="",u=1;t/n>=1;)n*=10,r+=1;return r<=4?String(t):(r<=8?(u="w"===(o=(r-4)/3>1?"kw":"w")?1e4:1e7,e[0]=t%u==0?t/u+"":(t/u).toFixed(0)+"",e[1]=o):r<=16&&(o=(r-8)/3>1?"千亿":"亿",o=(r-8)/4>1?"万亿":o,u=1,"亿"===(o=(r-8)/7>1?"千万亿":o)?u=1e8:"千亿"===o?u=1e11:"万亿"===o?u=1e12:"千万亿"===o&&(u=1e15),e[0]=t%u==0?t/u+"":(t/u).toFixed(0)+"",e[1]=o),t<1e3&&(e[0]=t+"",e[1]=""),e.join(""))},t.formatDateTime=function(t){if(!(t instanceof Date))return"";var e=t.getFullYear(),n=t.getMonth()+1,r=n<10?"0"+n:n,o=t.getDate(),u=o<10?"0"+o:o,i=t.getHours(),a=i<10?"0"+i:i,f=t.getMinutes(),s=f<10?"0"+f:f,c=t.getSeconds();return e+"-"+r+"-"+u+" "+a+":"+s+":"+(c<10?"0"+c:c)},t.formatDateTime1=function(t){if(!(t instanceof Date))return"";var e=t.getFullYear(),n=t.getMonth()+1,r=n<10?"0"+n:n,o=t.getDate(),u=o<10?"0"+o:o,i=t.getHours(),a=i<10?"0"+i:i,f=t.getMinutes(),s=f<10?"0"+f:f;t.getSeconds();return e+"-"+r+"-"+u+" "+a+":"+s},t.formatDateTime2=function(t){return t instanceof Date?t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate():""},t.formatDateTime3=function(t){if(!(t instanceof Date))return"";t.getFullYear();var e=t.getMonth()+1,n=e<10?"0"+e:e,r=t.getDate(),o=r<10?"0"+r:r,u=t.getHours(),i=u<10?"0"+u:u,a=t.getMinutes(),f=a<10?"0"+a:a;t.getSeconds();return n+"月"+o+"日 "+i+":"+f},t.copyArr=function(t){return t.filter((function(t){return t}))},t.arrRandomly=function(t){for(var e=t.length-1;e>=0;e--){var n=Math.floor(Math.random()*(e+1)),r=t[n];t[n]=t[e],t[e]=r}return t},t.getRandomArr=function(t,e){void 0===t&&(t=[]);for(var n=this.arrRandomly(t),r=[],o=0;o<e;o++)r.push(n[o]);return r},t.getDuration=function(t){return Math.floor(t%86400/3600)+"小时"+Math.floor(t%86400%3600/60)+"分"+Math.floor(t%86400%3600%60)+"秒"},t.getTodayState=function(){var t=new Date,e=1;return t.getHours()>=0&&t.getHours()<12?e=1:t.getHours()>=12&&t.getHours()<24&&(e=2),e},t.isToday=function(t){var e=new Date(Number(t)),n=e.getDate(),r=e.getMonth(),o=new Date,u=o.getDate(),i=o.getMonth(),a=!1;return n==u&&r==i&&(a=!0),a},t}());e._RF.pop()}}}));
